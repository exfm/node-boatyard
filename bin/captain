#!/usr/bin/env node

"use strict";

var nconf = require('nconf'),
    suck = require('../'),
    Captain = suck.Captain,
    Ship = suck.Ship;

nconf.argv()
    .env()
    .use('memory');

nconf.defaults({
    'size': 100000,
    'partitioner': '../examples/partitioner.js',
    'ship': 'example-partitioner',
    'mongoHosts': ['localhost']
});

var captain = new Captain(Number(nconf.get('size')),
    new Ship(nconf.get('ship')));

captain.startShip(require(nconf.get('partitioner')));